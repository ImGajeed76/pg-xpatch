SET
CREATE TABLE
 configure 
-----------
 
(1 row)

INSERT 0 1
INSERT 0 1
psql:/workspace/test/sql/06_errors.sql:26: ERROR:  UPDATE is not supported on xpatch tables
HINT:  xpatch tables are append-only. Insert a new version instead.
psql:/workspace/test/sql/06_errors.sql:31: ERROR:  DELETE is not supported on xpatch tables
HINT:  xpatch tables are append-only. Insert a new version instead.
psql:/workspace/test/sql/06_errors.sql:36: ERROR:  xpatch: new version must be greater than existing max version
HINT:  The order_by column "version" must be strictly increasing within each group.
psql:/workspace/test/sql/06_errors.sql:41: ERROR:  xpatch: new version must be greater than existing max version
HINT:  The order_by column "version" must be strictly increasing within each group.
psql:/workspace/test/sql/06_errors.sql:46: ERROR:  xpatch: order_by column "version" cannot be NULL
 id | version |     content     
----+---------+-----------------
  1 |       1 | Initial version
  1 |       2 | Second version
(2 rows)

INSERT 0 1
 id | version |        content        
----+---------+-----------------------
  1 |       1 | Initial version
  1 |       2 | Second version
  1 |       3 | Third version - valid
(3 rows)

CREATE TABLE
psql:/workspace/test/sql/06_errors.sql:59: ERROR:  Table "regular_table" is not using the xpatch access method
CONTEXT:  PL/pgSQL function xpatch.configure(regclass,text,text,text[],integer,integer,boolean) line 16 at RAISE
DROP TABLE
DROP TABLE
